# Supabase Database Setup

## Database Schema

The application uses two tables in Supabase:

### Categories Table
```sql
CREATE TABLE IF NOT EXISTS categories (
  id TEXT PRIMARY KEY,
  name TEXT NOT NULL,
  icon TEXT NOT NULL
);
```

### Products Table
```sql
CREATE TABLE IF NOT EXISTS products (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name TEXT NOT NULL,
  price TEXT NOT NULL,
  description TEXT DEFAULT '',
  category_id TEXT NOT NULL REFERENCES categories(id)
);
```

## Setup Instructions

1. **Run the SQL script** in your Supabase SQL Editor:
   - Open `database-setup.sql` 
   - Copy and paste the contents into Supabase Dashboard > SQL Editor
   - Run the script to create tables and insert initial data

2. **Verify the setup**:
   - Check that both tables are created
   - Verify that categories and products are populated
   - Test the application at http://localhost:3000

## Initial Data

The setup script includes:
- 8 categories (café, thé, boissons, eau, pâtisseries, salée, narguilé, jeux)
- 31 products with pricing and descriptions

## Testing CRUD Operations

Once the database is set up, you can test:
- **GET**: View the menu at `/` and admin dashboard at `/admin`
- **ADD**: Add new products via the admin dashboard
- **UPDATE**: Edit existing products
- **DELETE**: Remove products

## Environment Variables

Make sure your `.env` file contains:
```
REACT_APP_SUPABASE_URL=https://nmydeiofwugxvowsktva.supabase.co
REACT_APP_SUPABASE_ANON_KEY=sb_publishable_RwdSpRod-T32RzMHXt25jw_wFY39les
```
